---
import { SearchCheck, Cpu, Wrench, LineChart } from "lucide-astro";
import SectionArrow from "./common/SectionArrow.astro";
import { Image } from "astro:assets";

import process1 from "../assets/process-1.png";
import process2 from "../assets/process-2.png";
import process3 from "../assets/process-3.png";
import process4 from "../assets/process-4.png";

const steps = [
  {
    num: "01.",
    title: "Estudio Técnico",
    icon: SearchCheck,
    img: process1,
    alt: "Estudio técnico energético",
    desc: "Recolectamos data con drones, cámaras térmicas y analizadores.",
  },
  {
    num: "02.",
    title: "Diseño a Medida",
    icon: Cpu,
    img: process2,
    alt: "Diseño energético",
    desc: "Helioscope, PVSyst y modelado estructural para máxima eficiencia.",
  },
  {
    num: "03.",
    title: "Implementación",
    icon: Wrench,
    img: process3,
    alt: "Instalación energética",
    desc: "Instalamos sin detener operaciones. Preciso y seguro.",
  },
  {
    num: "04.",
    title: "Monitoreo & Beneficio",
    icon: LineChart,
    img: process4,
    alt: "Monitoreo energético",
    desc: "IA + apps para asegurar ahorro real y continuidad.",
  },
];
---
<section id="proceso" class="px-6 md:px-16 lg:px-24 py-20 bg-(--bg)">

  <!-- TÍTULO -->
  <div class="text-center mb-14">
    <h2 class="text-4xl md:text-5xl font-semibold text-(--primary)">Nuestro Proceso</h2>
    <p class="text-(--text)/70 mt-2 tracking-wide text-sm md:text-base">
      Ingeniería • Datos • Precisión
    </p>
  </div>

  <!-- GRID PRINCIPAL -->
  <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 max-w-7xl mx-auto">

    <!-- 01 IZQUIERDA -->
    <div class="lg:col-span-4 h-80 lg:h-full relative rounded-3xl overflow-hidden shadow-xl group">
      <Image
        src={steps[0].img}
        alt={steps[0].alt}
        format="webp"
        widths={[600, 1200]}
        class="absolute inset-0 w-full h-full object-cover opacity-80 group-hover:scale-105 duration-700"
      />
      <div class="absolute inset-0 bg-black/40 group-hover:bg-black/30 duration-300"></div>

      <div class="absolute bottom-6 left-6 text-white">
        <steps[0].icon class="w-5 h-5 mb-2 opacity-90" />
        <h3 class="text-lg text-(--primary) font-semibold bg-white/40 p-2 rounded-lg w-fit">
          <span class="text-(--secondary) font-bold mr-1">{steps[0].num}</span>{steps[0].title}
        </h3>
        <p class="text-sm opacity-90 max-w-xs">{steps[0].desc}</p>
      </div>
    </div>

    <!-- COLUMNA DERECHA (02 arriba, 03 y 04 debajo) -->
    <div class="lg:col-span-8 grid grid-cols-1 gap-6">

      <!-- 02 -->
      <div class="h-80 relative rounded-3xl overflow-hidden shadow-xl group">
        <Image
          src={steps[1].img}
          alt={steps[1].alt}
          format="webp"
          widths={[600, 1400]}
          class="absolute inset-0 w-full h-full object-cover opacity-80 group-hover:scale-105 duration-700"
        />
        <div class="absolute inset-0 bg-black/40 group-hover:bg-black/30 duration-300"></div>

        <div class="absolute bottom-6 left-6 text-white">
          <steps[1].icon class="w-5 h-5 mb-2 opacity-90" />
          <h3 class="text-lg text-(--primary) font-semibold bg-white/40 p-2 rounded-lg w-fit">
            <span class="text-(--secondary) font-bold mr-1">{steps[1].num}</span>{steps[1].title}
          </h3>
          <p class="text-sm opacity-90 max-w-xs">{steps[1].desc}</p>
        </div>
      </div>

      <!-- FILA 03 + 04 -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

        {steps.slice(2).map((step) => (
          <div class="h-80 relative rounded-3xl overflow-hidden shadow-xl group">
            <Image
              src={step.img}
              alt={step.alt}
              format="webp"
              widths={[600, 1200]}
              class="absolute inset-0 w-full h-full object-cover opacity-80 group-hover:scale-105 duration-700"
            />
            <div class="absolute inset-0 bg-black/40 group-hover:bg-black/30 duration-300"></div>

            <div class="absolute bottom-6 left-6 text-white">
              <step.icon class="w-5 h-5 mb-2 opacity-90" />
              <h3 class="text-lg text-(--primary) font-semibold bg-white/40 p-2 rounded-lg w-fit">
                <span class="text-(--secondary) font-bold mr-1">{step.num}</span>{step.title}
              </h3>
              <p class="text-sm opacity-90 max-w-xs">{step.desc}</p>
            </div>
          </div>
        ))}

      </div>
    </div>

  </div>

  <SectionArrow sectionTag="#nosotros" />
</section>
