---
import { ArrowRight } from "lucide-astro";

const images = [

  "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExNTB1M205OTBqZTVoZGppamM2NG0wNTVqdTF3NG5hd2k4d3A4NXhxNSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/E9jYbCjTQGqTGdIkya/giphy.gif",
  "public/hero-2.png", 
  "public/hero-1.png", 
];
---

<section id="inicio" class="relative w-full h-screen overflow-hidden">

  <!-- CAROUSEL WRAPPER -->
  <div id="carousel" class="absolute inset-0 flex transition-transform duration-[1200ms] ease-out">
    {images.map((src) => (
      <div class="min-w-full h-full relative">
        <img
          src={src}
          alt="Fondo QVOLTI"
          class="w-full h-full object-cover brightness-[0.8] contrast-110"
        />
        <!-- Overlay -->
        <div class="absolute inset-0 bg-gradient-to-r from-black/50 via-black/20 to-transparent"></div>
      </div>
    ))}
  </div>

  <!-- CONTENT (texto y botón) -->
<div class="absolute top-1/2 left-1/2 -translate-x-1/2 
            -translate-y-1/2 text-center z-20 max-w-2xl text-white">

  <span class="inline-block px-4 py-1 mb-5 rounded-full 
               bg-white/20 backdrop-blur-sm text-xs tracking-wide uppercase">
    Energía Inteligente
  </span>

  <h1 class="text-4xl md:text-6xl text-(--secondary) font-semibold leading-tight mb-4 drop-shadow-[0_2px_10px_rgba(0,0,0,0.55)]">
    Varias soluciones,<br />
    <span class="text-(--primary)">un mismo fin.</span>
  </h1>

  <div class="w-24 h-0.5 bg-white/40 mx-auto mb-6"></div>

  <p class="text-lg opacity-90 mb-8 mx-auto max-w-lg">
    La energía que mueve acuerdos.
  </p>
  <!-- BOTÓN -->
  <a href="#contacto" class="relative inline-flex items-center gap-2 px-8 py-3 text-sm tracking-wide rounded-lg overflow-hidden
    bg-(--primary) text-white font-semibold transition-all duration-500 group  active:scale-95 shadow-[0_4px_20px_rgba(0,0,0,0.1)]">
      <span class="absolute inset-0 bg-gradient-to-r from-(--primary) via-(--secondary) to-(--primary)
                    opacity-0 group-hover:opacity-100 blur-[3px] scale-105 animate-gradient rounded-lg"></span>
      <span class="relative z-10 flex items-center gap-2">Descubre más <ArrowRight class="w-4 h-4 group-hover:scale-125 transition-all duration-0" /></span>
  </a>

</div>





  <!-- DOTS -->
  <div class="absolute bottom-10 left-1/2 -translate-x-1/2 flex gap-3 z-30">
    {images.map((_, i) => (
      <button
        class="dot w-3 h-3 rounded-full bg-white/40 hover:bg-white transition"
        data-index={i}
      ></button>
    ))}
  </div>

</section>

<!-- SCRIPT DEL CARROUSEL -->
<script is:client>
  const carousel = document.getElementById("carousel");
  const dots = document.querySelectorAll(".dot");
  let index = 0;

  function updateCarousel(i) {
    index = i;
    carousel.style.transform = `translateX(-${index * 100}%)`;

    dots.forEach((dot, j) => {
      dot.style.backgroundColor = j === index ? "white" : "rgba(255,255,255,0.4)";
      dot.style.transform = j === index ? "scale(1.3)" : "scale(1)";
    });
  }

  dots.forEach((dot) => {
    dot.addEventListener("click", () =>
      updateCarousel(parseInt(dot.dataset.index))
    );
  });

  // Auto-play cada 6s
  setInterval(() => {
    updateCarousel((index + 1) % dots.length);
  }, 6000);
</script>
